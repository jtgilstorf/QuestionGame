<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Question Imposter Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  background: #0d0d0d;
  color: #eee;
  font-family: Arial, sans-serif;
  text-align: center;
  padding: 20px;
}

.card {
  background: #1a1a1a;
  border-radius: 12px;
  padding: 20px;
  max-width: 500px;
  margin: 20px auto;
}

button {
  padding: 12px 20px;
  margin-top: 15px;
  border-radius: 8px;
  border: none;
  font-size: 16px;
  cursor: pointer;
}

button.primary {
  background: #4CAF50;
  color: white;
}

button.secondary {
  background: #333;
  color: white;
}

input, textarea {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 6px;
  border: none;
  font-size: 16px;
}

.hidden {
  display: none;
}
</style>
</head>
<body>

<h1>üïµÔ∏è Question Imposter</h1>

<div id="setup" class="card">
  <p>Number of Players</p>
  <input type="number" id="playerCount" min="3" max="10" value="4">
  <button class="primary" onclick="setupNames()">Next</button>
</div>

<div id="nameEntry" class="card hidden">
  <h2>Enter Player Names</h2>
  <div id="nameInputs"></div>
  <button class="primary" onclick="startGame()">Start Game</button>
</div>

<div id="playerTurn" class="card hidden">
  <h2 id="playerTitle"></h2>
  <p><strong>Your Question:</strong></p>
  <p id="questionText"></p>
  <textarea id="answerInput" placeholder="Type your answer..."></textarea>
  <button class="primary" onclick="submitAnswer()">Submit & Pass Phone</button>
</div>

<div id="results" class="card hidden">
  <h2>Answers</h2>
  <div id="answersList"></div>
  <button class="secondary" onclick="revealImposter()">Reveal Imposter</button>
</div>

<div id="reveal" class="card hidden">
  <h2>üé≠ Reveal</h2>
  <p id="revealText"></p>
  <button class="primary" onclick="location.reload()">Play Again</button>
</div>

<script>
const questionPairs = [
  { normal: "What‚Äôs your favorite pizza topping?", imposter: "What‚Äôs your least favorite pizza topping?" },
  { normal: "What‚Äôs a good movie for a first date?", imposter: "What‚Äôs a terrible movie for a first date?" },
  { normal: "What‚Äôs the best vacation destination?", imposter: "What‚Äôs the worst vacation destination?" },
  { normal: "What‚Äôs a hobby you enjoy?", imposter: "What‚Äôs a hobby you hate?" }
];

let players = [];
let currentPlayer = 0;
let imposterIndex = 0;
let chosenPair = null;

function setupNames() {
  const count = parseInt(document.getElementById("playerCount").value);
  if (count < 3) {
    alert("Minimum 3 players required.");
    return;
  }

  document.getElementById("setup").classList.add("hidden");
  const nameInputsDiv = document.getElementById("nameInputs");
  nameInputsDiv.innerHTML = "";

  for (let i = 0; i < count; i++) {
    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = `Player ${i + 1} Name`;
    input.id = `playerName${i}`;
    nameInputsDiv.appendChild(input);
  }

  document.getElementById("nameEntry").classList.remove("hidden");
}

function startGame() {
  const count = parseInt(document.getElementById("playerCount").value);
  players = [];
  for (let i = 0; i < count; i++) {
    const name = document.getElementById(`playerName${i}`).value.trim() || `Player ${i + 1}`;
    players.push({ name: name, answer: "" });
  }

  imposterIndex = Math.floor(Math.random() * count);
  chosenPair = questionPairs[Math.floor(Math.random() * questionPairs.length)];

  document.getElementById("nameEntry").classList.add("hidden");
  showPlayer();
}

function showPlayer() {
  document.getElementById("playerTurn").classList.remove("hidden");
  document.getElementById("playerTitle").innerText = `${players[currentPlayer].name}`;
  document.getElementById("answerInput").value = "";

  document.getElementById("questionText").innerText =
    currentPlayer === imposterIndex ? chosenPair.imposter : chosenPair.normal;
}

function submitAnswer() {
  const answer = document.getElementById("answerInput").value.trim();
  if (!answer) return;

  players[currentPlayer].answer = answer;
  currentPlayer++;

  if (currentPlayer < players.length) {
    showPlayer();
  } else {
    showResults();
  }
}

function showResults() {
  document.getElementById("playerTurn").classList.add("hidden");
  document.getElementById("results").classList.remove("hidden");

  const list = document.getElementById("answersList");
  list.innerHTML = "";

  players.forEach((p, i) => {
    const div = document.createElement("div");
    div.style.marginBottom = "10px";
    div.innerText = `${p.name}: ${p.answer}`;
    list.appendChild(div);
  });
}

function revealImposter() {
  document.getElementById("results").classList.add("hidden");
  document.getElementById("reveal").classList.remove("hidden");

  document.getElementById("revealText").innerHTML = `
    ${players[imposterIndex].name} was the imposter.<br><br>
    <strong>Normal Question:</strong> ${chosenPair.normal}<br>
    <strong>Imposter Question:</strong> ${chosenPair.imposter}
  `;
}
</script>

</body>
</html>
